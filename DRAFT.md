### PlantUml ###

@startuml
actor Пользователь

RECTANGLE Интернет_магазин_Гофермарт

RECTANGLE Система_расчета_баллов

RECTANGLE Система_лояльности

RECTANGLE Счет_пользователя

Пользователь --> Интернет_магазин_Гофермарт : совершает покупку
Интернет_магазин_Гофермарт --> Система_расчета_баллов : передает заказ
Система_расчета_баллов --> Пользователь : передает номер заказа
Пользователь --> Система_лояльности : передает номер заказа
Система_лояльности --> Система_лояльности : связывает заказ с пользователем
Система_лояльности --> Система_расчета_баллов : сверяет номер заказа
Система_расчета_баллов --> Система_лояльности : расчет баллов
Система_лояльности --> Счет_пользователя : начисляет баллы
Счет_пользователя --> Пользователь : показывает доступные баллы
Пользователь --> Интернет_магазин_Гофермарт : списывает баллы для оплаты
@enduml
